var baseUrl="http://120.27.157.191/api/",cityDom=$("#city");$(document).ready(function(){var t=$("#link-about-us");t.addClass("nav-bar-item-line-op"),$.get(baseUrl+"getCities?pageSize=100&curPage=1",function(t){var e=t.data.data,a=[],i=null,o=5;for(window.screen.width<=320&&(o=3);e.length%o!=0;)e.push({id:"",name:""});for(var s=0;s<e.length;s++)s%o==0&&(i=[],a.push(i)),i.push(e[s]);for(var s=0;s<a.length;s++){var n=$("<div></div>");n.addClass("city-line");for(var d=0;d<a[s].length;d++){var c=$("<div></div>"),l=$('<span id="city'+a[s][d].id+'" class="city-radius" onclick="cityChange('+a[s][d].id+')" onmouseover="cityOver('+a[s][d].id+')" onmouseout="cityOut('+a[s][d].id+')">'+a[s][d].name+"</span>");c.append(l),c.addClass("city-item"),0===d&&0===s&&(l.addClass("city-active"),getShopsByCity(a[s][d].id)),n.append(c)}cityDom.append(n)}},"json")});var cityChange=function(t){null!=t&&"undefined"!=typeof t&&($(".city-active").removeClass("city-active"),$("#city"+t).removeClass("city-hover"),$("#city"+t).addClass("city-active"),getShopsByCity(t))},cityOver=function(t){$("#city"+t).hasClass("city-active")||$("#city"+t).addClass("city-hover")},cityOut=function(t){$("#city"+t).hasClass("city-active")||$("#city"+t).removeClass("city-hover")},shopDom=$("#shop"),getShopsByCity=function(t){shopDom.html(""),$.get(baseUrl+"getShopsByLatiAndlongi?cityID="+t+"&longitude=0&latitude=0&condition=",function(t){for(var e=t.data,a=0;a<e.length;a++)shopDom.append('<div class="shop-item"><div class="shop-item-header"><p class="shop-item-header-one">'+e[a].name+'</p><p class="shop-item-header-two ">'+e[a].address+'</p></div><span class="shop-item-line"></span><div class="shop-item-footer"><img src="./assets/images/weiz.svg" /><a href="http://api.map.baidu.com/geocoder?address='+e[a].address+'&output=html&src=yourCompanyName|yourAppName">查看具体位置</a></div></div>')},"json")},showLocaltion=function(t){};window.onscroll=function(){var t=document.documentElement.scrollTop||document.body.scrollTop,e=document.getElementById("nav-header"),a=t/200;a>=.9&&(a=.9),e.style.backgroundColor="rgba(255,255,255,"+a+")",a>=.9?(e.style.boxShadow="0 0 5px #e5e5e5",addClass(floatBtn,"float-btn-opp")):(e.style.boxShadow="0 0 0 #e5e5e5",removeClass(floatBtn,"float-btn-opp"))};